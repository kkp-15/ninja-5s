<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>5秒ぴったりチャレンジ</title>
  

"<meta name=""viewport"" content=""width=device-width, initial-scale=1.0, maximum-scale=1.0"">"
"<meta name=""description"" content=""5秒ぴったりで止められるか！？簡単で中毒性のあるタイマーゲーム"" />"
"<meta property=""og:title"" content=""5秒ぴったりチャレンジ"" />"
"<meta property=""og:description"" content=""スタート→ストップ！5秒00で止められるか？"" />"
"<meta property=""og:image"" content=""https://5sec.kkpwebninja.com/card.png"" />"
"<meta property=""og:url"" content=""https://5sec.kkpwebninja.com"" />"
"<meta property=""og:type"" content=""website"" />"
  
  <!-- ✅ いつものアナリティクス -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-2LM85GJN0L');
  </script>

  <style>
    body {
      font-family: "Hiragino Kaku Gothic ProN", sans-serif;
      text-align: center;
      background-color: #fff8e1;
      color: #333;
      margin: 0;
      padding: 1rem;
    }

    h1 {
      font-size: 1.6rem;
      margin-bottom: 0.5rem;
    }

    #timer {
      font-size: 3.5rem;
      margin: 0.5rem 0;
    }

    #startBtn {
      font-size: 1.2rem;
      padding: 0.8rem 2.5rem;
      background-color: #ffa000;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 1rem 0;
    }

    #startBtn:hover {
      background-color: #ff8f00;
    }

    #result {
      font-size: 1.1rem;
      margin-top: 1rem;
    }

    #shareBtn {
      display: inline-block;
      margin-top: 1.2rem;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      color: #fff;
      background-color: #2196f3;
      border: none;
      border-radius: 9999px;
      text-decoration: none;
    }

    #footer {
      margin-top: 2.5rem;
      font-size: 0.9rem;
    }

    #footer a {
      color: #0000cc;
      text-decoration: none;
    }
  </style>
</head>
<body>

  <!-- ✅ タイトル・タイマー表示 -->
  <h1>5秒ぴったりチャレンジ</h1>
  <div id="timer">0.00</div>

  <!-- ✅ スタート・ストップ兼用ボタン -->
  <button id="startBtn">スタート</button>

  <!-- ✅ 判定結果表示 -->
  <div id="result"></div>

  <!-- ✅ Xシェアボタン -->
  <a id="shareBtn" href="#" target="_blank">🎯 結果をXでシェア！</a>

  <!-- ✅ フッター（Xリンク＋本丸） -->
  <div id="footer">
    X <a href="https://x.com/kkp_webninja" target="_blank">@kkp_webninja</a><br>
    🏯 <a href="https://kkpwebninja.com" target="_blank">web忍者の本丸</a><br>
  </div>

  <script>
    // タイマーの変数定義
    let timerInterval;
    let isRunning = false;
    let time = 0;

    // 各要素の取得
    const timerDisplay = document.getElementById("timer");
    const startBtn = document.getElementById("startBtn");
    const resultDisplay = document.getElementById("result");
    const shareBtn = document.getElementById("shareBtn");

    // スタートボタンの動作
    startBtn.addEventListener("click", () => {
      if (!isRunning) {
        // ✅ スタート処理
        isRunning = true;
        startBtn.textContent = "ストップ";
        resultDisplay.textContent = "";
        time = 0;
        timerDisplay.textContent = "0.00";

        // 10msごとに更新
        timerInterval = setInterval(() => {
          time += 10;
          timerDisplay.textContent = (time / 1000).toFixed(2);
          // ✅ 10秒超えたら自動で止める
          if (time >= 10000) {
            stopTimer();
          }
        }, 10);
      } else {
        // ✅ ストップ処理
        stopTimer();
      }
    });

    // 停止して結果表示
    function stopTimer() {
      clearInterval(timerInterval);
      isRunning = false;
      startBtn.textContent = "スタート";

      const displayedTime = parseFloat(timerDisplay.textContent);
      const diff = Math.abs(displayedTime - 5.00);
      const diffDisplay = diff.toFixed(2);

      let emoji = "";
      let message = "";
      let remark = "";

      // ✅ 表示されている数値での判定
      if (diff === 0) {
        emoji = "😊";
        message = "ニアピン！";
        remark = "「なかなかやるのぅ！」";
      } else if (diff < 0.15) {
        emoji = "😊";
        message = "ニアピン！";
        remark = "「修行の成果が見えてきたぞ」";
      } else if (diff < 0.3) {
        emoji = "😅";
        message = "おしい！";
        remark = "「まだまだじゃな」";
      } else {
        emoji = "😵‍💫";
        message = "はずれ！";
        remark = "「修行が足りぬようじゃ」";
      }

      resultDisplay.innerHTML = `誤差：${diffDisplay}秒 ${emoji} ${message}<br><span>「${remark}」</span>`;

      // ✅ シェア用文言
      const tweet = `5秒ぴったりチャレンジ！\n結果：${displayedTime.toFixed(2)}秒（誤差：${diffDisplay}秒）\n${message} ${emoji}\n\nhttps://5sec.kkpwebninja.com/\n\n@kkp_webninja`;
      shareBtn.href = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweet)}`;
    }
  </script>
</body>
</html>
